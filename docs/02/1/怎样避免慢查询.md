# 怎样避免慢查询及慢查询解决办法：

### 如何避免：
- 1、限制操作人员的行为，约定不可随意变更数据库的索引
- 2、从以下几方面去做
    - 2.1、监控，添加适合的监控，及时发现问题，并且给人为解决
    - 2.2、主动防御，为了保护服务不被部分异常请求给拖垮，从而产生雪崩
        - 2.2.1、db层服务，对sql执行时间做监控，如果查询时间超过预设值，则记录为可疑查询，如果标记次数超出上限值，则限制此类SQL的查询，并告警周知相关人员
        - 2.2.2、限流，限制请求流量 
- 3、从服务角度去优化服务。提升系统的吞吐能力，如表数据量太大就拆表
- 4、服务调用方，需要考虑的是，如何去做服务降级，如果某个服务不可同时，不至于影响整个系统的可用。

### 解决办法：
对相应字段添加索引，慢查询消失，超时现象消失。